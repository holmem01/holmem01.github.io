<html>
<header>
  <title> To Do SPA </title>
  <link href="holmem01.github.io/todospa.js" type="text/javascript">
  <link rel="stylesheet" href="holmem01.github.io/todospa.css" type="text/css"
</header>
<body>
  <h2>Create a To-Do List</h2>
  <section id = "entry">
    <input type="text" id="newtask" value="Enter a new task here!" label="Enter Task"/>
    <select id="priority">
      <option>High</option>
      <option>Medium</option>
      <option>Low</option>
    </select>
    <button onclick="makeNewTask()">Add Task</button>
  <script type = "text/javascript" src = "http://bnmnetp.github.io/CS130/listsavers.js"></script>
  <script type="text/javascript">
      window.onload=function() {
        restorelist('alist', doneTask)
      }
      makeNewTask = function() {
        var pri, inputText, ulist, string;
      
        ulist = document.querySelector("#alist");
        task = document.createElement("li");
        checkb = document.createElement("input");
        pri = document.querySelector("#priority").value;
        task.className = pri;
        inputText = document.querySelector("#newtask").value;
        taskText = document.createTextNode(inputText);
       doneTask = function() {
         if (this.checked) {
           this.parentNode.classList.add("done");
         } else {
           this.parentNode.classList.remove("done");
         }
         localSave('alist')
       }    
        checkb.type = "checkbox";
        checkb.onclick = doneTask;
        task.appendChild(checkb);
        task.appendChild(taskText);
        ulist.appendChild(task);
        localSave('alist')
      }
    </script>
  
  </section>
  <section>
    <ul id = "alist"></ul>
  </section>

</body>
</html>
